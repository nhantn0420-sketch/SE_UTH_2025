@startuml 4.2-module2-academic
!define LIGHTGREEN #E8F5E9

skinparam backgroundColor white
skinparam defaultFontName Arial
skinparam defaultFontSize 11
skinparam linetype ortho
skinparam classAttributeIconSize 0

skinparam class {
  BackgroundColor LIGHTGREEN
  BorderColor #388E3C
  BorderThickness 2
  ArrowColor #333333
  FontStyle bold
}

top to bottom direction

title Module 2: Academic Management

class subjects <<table>> {
  **<color:gold>ðŸ”‘ PK</color> id : INTEGER**
  --
  <color:green>âš¡ UNIQUE</color> code : VARCHAR(20)
  name : VARCHAR(255)
  credits : INTEGER
  description : TEXT
  created_at : TIMESTAMP
  updated_at : TIMESTAMP
}

class curricula <<table>> {
  **<color:gold>ðŸ”‘ PK</color> id : INTEGER**
  --
  <color:blue>ðŸ”— FK</color> subject_id : INTEGER
  content : TEXT
  week_number : INTEGER
  learning_outcomes : TEXT
  created_at : TIMESTAMP
}

class classes <<table>> {
  **<color:gold>ðŸ”‘ PK</color> id : INTEGER**
  --
  <color:green>âš¡ UNIQUE</color> code : VARCHAR(50)
  name : VARCHAR(255)
  <color:blue>ðŸ”— FK</color> subject_id : INTEGER
  <color:blue>ðŸ”— FK</color> lecturer_id : INTEGER
  semester : VARCHAR(20)
  academic_year : VARCHAR(20)
  max_students : INTEGER
  status : VARCHAR(20)
  created_at : TIMESTAMP
  updated_at : TIMESTAMP
}

class class_members <<table>> {
  **<color:gold>ðŸ”‘ PK</color> id : INTEGER**
  --
  <color:blue>ðŸ”— FK</color> class_id : INTEGER
  <color:blue>ðŸ”— FK</color> student_id : INTEGER
  role : VARCHAR(20)
  joined_at : TIMESTAMP
}

' Relationships
subjects "1" o-- "0..*" curricula : has >
subjects "1" o-- "0..*" classes : taught in >

classes "1" o-- "0..*" class_members : contains >
classes "*" -- "1" users_lecturer : taught by >

class_members "*" -- "1" users_student : enrolled as >

' External references
class users_lecturer <<external>> {
  role = 'LECTURER'
}

class users_student <<external>> {
  role = 'STUDENT'
}

' Notes
note right of subjects
  **Subject Information**
  
  â€¢ Course catalog
  â€¢ Credit hours
  â€¢ Prerequisites
  
  Example:
  SE101 - Software Engineering (3 credits)
end note

note right of curricula
  **Weekly Content**
  
  â€¢ Week-by-week breakdown
  â€¢ Learning outcomes per week
  â€¢ Aligned with subject
end note

note bottom of classes
  **Class Sessions**
  
  â€¢ Semester-specific
  â€¢ Max student capacity
  â€¢ Status: ACTIVE/INACTIVE/COMPLETED
  
  Example:
  SE1701 - Spring 2025
end note

note bottom of class_members
  **Student Enrollment**
  
  â€¢ Many-to-many relationship
  â€¢ Role: MEMBER or MONITOR
  â€¢ Join timestamp tracking
end note

legend bottom right
  <b>Table Legend:</b>
  <color:gold>ðŸ”‘</color> Primary Key
  <color:blue>ðŸ”—</color> Foreign Key
  <color:green>âš¡</color> Unique Constraint
  
  <b>Key Relationships:</b>
  â€¢ Subject â†’ Classes (1:N)
  â€¢ Subject â†’ Curricula (1:N)
  â€¢ Class â†’ Members (1:N)
  â€¢ Lecturer â†’ Classes (1:N)
  â€¢ Student â†’ Class Members (1:N)
end legend

@enduml
