@startuml 4.3.17-state-project
!theme plain

skinparam backgroundColor #FFFFFF
skinparam state {
    BackgroundColor #F5F5F5
    BorderColor #1976D2
    BorderThickness 2
    FontSize 11
    FontName Arial
}
skinparam ArrowColor #424242

title <b>Project Lifecycle - State Machine</b>\n<size:10>UML 2.5 State Diagram</size>

[*] --> Draft

state Draft {
  Draft : Editable by lecturer
}

Draft --> Pending : submit() [allFieldsComplete]
Draft --> [*] : delete() [lecturerOwned]

state Pending {
  Pending : entry / notifyHead()
  Pending : do / waitReview()
}

Pending --> choice1
choice1 --> Approved : approve() [meetsCriteria]
choice1 --> Rejected : reject() [!meetsCriteria]
choice1 --> Draft : requestRevision() [needsChanges]

state Rejected
Rejected --> [*] : / archive()

state Approved
Approved --> Active : assign() [classSelected]
Approved --> Archived : after(semesterEnd) [!assigned]

state Active {
  [*] --> InProgress
  
  state InProgress {
    InProgress : entry / createMilestones()
    InProgress : do / trackProgress()
  }
  
  InProgress --> Tracking : after(milestoneDeadline)
  Tracking --> InProgress : continue()
}

Active --> Completed : finish() [allGroupsDone]
Active --> Suspended : pause() [emergency]

state Suspended
Suspended --> Active : resume() [issueResolved]
Suspended --> Cancelled : terminate() [cannotContinue]

state Completed {
  Completed : entry / lockGrades()
}

Completed --> Archived : / generateReport()
Cancelled --> Archived : / cleanup()

state Archived {
  Archived : Read-only access
}

Archived --> [*] : delete() [after(5.years)]

note right of Pending
  <b>Constraints:</b>
  • Max: 7 days
  • Reminder: day 3, 6
end note

note right of Active
  <b>Duration:</b>
  • 16 weeks (1 semester)
end note

legend right
  <b>UML 2.5 Notation</b>
  ──────────────────
  • Transition format:
    <i>event [guard] / action</i>
  
  • Diamond: choice node
  • Composite state: contains substates
  • entry/do/exit: internal behaviors
end legend

@enduml
