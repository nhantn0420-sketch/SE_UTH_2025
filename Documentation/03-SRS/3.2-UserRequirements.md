# 3.2. USER REQUIREMENTS

**Yêu cầu người dùng thông qua Use Cases**

---

## 3.2.1. Use Case Overview

CollabSphere hỗ trợ **42 Use Cases chính** được phân loại theo người dùng và chức năng:

### Overall Use Case Diagram

![Figure 3.2.1: CollabSphere - Overall Use Case Diagram](diagrams/3.2-usecase-overall.png)

**Caption**: Sơ đồ Use Case tổng thể của hệ thống CollabSphere thể hiện 42 use cases chính và mối quan hệ giữa 5 actors (Administrator, Staff, Department Head, Lecturer, Student). Diagram minh họa phạm vi chức năng toàn hệ thống bao gồm: Project Management (tạo và quản lý dự án), Class & Resource Management (quản lý lớp học và tài nguyên), Team Collaboration (làm việc nhóm với chat/video/whiteboard), Evaluation System (đánh giá theo checkpoint và peer review), AI Assistant (hỗ trợ tạo milestones và phân tích), và Notification System (thông báo realtime). Các use cases được nhóm theo chức năng nghiệp vụ, thể hiện rõ workflow từ khởi tạo project, phê duyệt, giao cho nhóm, thực hiện, đến đánh giá cuối cùng.

### Use Case Distribution by Actor

| Actor | Use Cases | Count |
|-------|-----------|-------|
| **Lecturer** | UC001-UC018, UC020-UC030 | 27 use cases |
| **Student** | UC010, UC013-UC014, UC018-UC023, UC025, UC028-UC042 | 23 use cases |
| **Head of Department** | UC005 | 1 use case |
| **System** | UC031 | 1 use case |

### Use Case Categories

1. **Project Management** (UC001-UC006): Tạo, quản lý, phê duyệt projects
2. **Class Management** (UC007-UC009): Quản lý classes và resources
3. **Team & Workspace** (UC010-UC018): Teams, milestones, checkpoints, tasks
4. **Communication** (UC019-UC022): Chat, video, whiteboard, editor
5. **Evaluation** (UC023-UC027): Đánh giá teams, members, milestones
6. **Resource Management** (UC028-UC029): Quản lý files và documents
7. **AI & Automation** (UC030-UC031): AI chatbot và notifications
8. **Student Views** (UC032-UC042): Student-specific functionalities

---

## 3.2.2. Detailed Use Cases

### **CATEGORY 1: PROJECT MANAGEMENT**

---

#### **UC001: Manage Projects**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC001 |
| **Name** | Manage Projects |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer creates, manages, submits, assigns, and picks projects based on subject syllabus, including using AI to generate milestones. |

**Preconditions:**
- Lecturer is logged in
- Lecturer is assigned to at least one class
- Subjects and curricula exist in the system

**Main Flow:**
1. Lecturer navigates to Projects page
2. System displays list of lecturer's projects (Pending, Approved, Denied)
3. Lecturer chooses action:
   - Option A: Create new project (→ UC002)
   - Option B: Edit existing project (→ UC003)
   - Option C: Submit project for approval (→ UC004)
   - Option D: Assign project to class (→ UC005)
   - Option E: Pick project for team (→ UC006)
4. System executes chosen action
5. System updates project list

**Postconditions:**
- Project data is updated in database
- Relevant stakeholders receive notifications

**Alternative Flows:**
- **3a**: No projects exist → System shows empty state with "Create Project" button
- **4a**: Permission denied → System shows error message

---

#### **UC002: Create Projects**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC002 |
| **Name** | Create Projects |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer creates new projects with description, objectives, and milestones based on syllabus. |

**Preconditions:**
- Lecturer is logged in
- At least one subject exists

**Main Flow:**
1. Lecturer clicks "Create New Project" button
2. System displays project creation form
3. Lecturer enters project information:
   - Title (required, max 200 chars)
   - Description (required, max 2000 chars)
   - Subject association (dropdown)
   - Objectives (list of text items)
   - Difficulty level (Easy/Medium/Hard)
   - Estimated duration (weeks)
4. Lecturer optionally uses AI to generate milestones:
   - 4a: Click "Generate Milestones with AI"
   - 4b: System calls AI service with project description
   - 4c: AI returns suggested milestones
   - 4d: Lecturer reviews and edits milestones
5. Lecturer manually adds/edits milestones:
   - Title, Description, Duration (weeks)
6. Lecturer clicks "Save as Draft" or "Save and Submit"
7. System validates input
8. System saves project to database
9. System shows success message

**Postconditions:**
- New project created with status "Pending"
- Project appears in lecturer's project list

**Alternative Flows:**
- **7a**: Validation fails → System shows error messages inline
- **7b**: Duplicate project title → System warns and allows continuation
- **4b**: AI service unavailable → System shows error, allows manual entry

**Business Rules:**
- BR-01: Project title must be unique per lecturer
- BR-02: At least one objective required
- BR-03: At least 2 milestones required

---

#### **UC003: Manage Own Projects**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC003 |
| **Name** | Manage Own Projects |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer views and edits their own projects (pending, approved, denied). |

**Preconditions:**
- Lecturer is logged in
- Lecturer has created at least one project

**Main Flow:**
1. Lecturer navigates to "My Projects" page
2. System displays projects grouped by status:
   - Pending (awaiting approval)
   - Approved (ready to assign)
   - Denied (rejected with feedback)
3. Lecturer filters/searches projects by:
   - Status, Subject, Date created
4. Lecturer selects a project
5. System displays project details
6. Lecturer chooses action:
   - View full details
   - Edit (if status = Pending or Denied)
   - Delete (if status = Pending)
   - View denial reason (if status = Denied)
   - Assign to class (if status = Approved)
7. System executes action

**Postconditions:**
- Project data updated (if edited)
- UI reflects current state

**Alternative Flows:**
- **6a**: Try to edit Approved project → System shows "Cannot edit approved project" error
- **6b**: Delete project already assigned → System prevents deletion, shows warning

---

#### **UC004: Submit Pending Projects**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC004 |
| **Name** | Submit Pending Projects |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer submits created projects to Head of Department for approval. |

**Preconditions:**
- Lecturer is logged in
- Project exists with status "Pending"
- Project has all required fields filled

**Main Flow:**
1. Lecturer opens project details
2. Lecturer reviews project information
3. Lecturer clicks "Submit for Approval" button
4. System validates project completeness:
   - Has title, description, objectives
   - Has at least 2 milestones
5. System shows confirmation dialog
6. Lecturer confirms submission
7. System updates project status to "Submitted"
8. System sends notification to Head of Department
9. System shows success message to Lecturer

**Postconditions:**
- Project status changed to "Submitted"
- Head receives notification
- Project appears in Head's approval queue

**Alternative Flows:**
- **4a**: Validation fails → System shows specific errors, prevents submission
- **8a**: Notification service down → System logs error, project still submitted

**Business Rules:**
- BR-04: Only Pending projects can be submitted
- BR-05: Once submitted, project cannot be edited until approved/denied

---

#### **UC005: Assign Projects to Classes**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC005 |
| **Name** | Assign Projects to Classes |
| **Actors** | Lecturer, Head of Department |
| **Priority** | MUST |
| **Description** | Lecturer or Head of Department assigns approved projects to classes. |

**Preconditions:**
- User is logged in as Lecturer or Head
- Project has status "Approved"
- Target class exists and is active

**Main Flow:**
1. User navigates to Approved Projects list
2. User selects a project
3. System displays "Assign to Class" option
4. User clicks "Assign to Class"
5. System displays list of available classes:
   - Shows class name, subject, semester, student count
6. User selects one or multiple classes
7. User clicks "Confirm Assignment"
8. System validates assignment:
   - Class not already assigned this project
   - Class subject matches project subject
9. System creates project-class assignments
10. System notifies Lecturer of the class (if Head assigned)
11. System shows success message

**Postconditions:**
- ProjectClass records created in database
- Project appears in class's project list
- Students in class can see the project

**Alternative Flows:**
- **8a**: Class already has this project → System shows warning, prevents duplicate
- **8b**: Subject mismatch → System shows error, allows override by Head

---

#### **UC006: Pick Projects for Teams**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC006 |
| **Name** | Pick Projects for Teams |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer selects approved projects from class project list and assigns them to specific teams. |

**Preconditions:**
- Lecturer is logged in
- Class has assigned projects (via UC005)
- Team exists and has members

**Main Flow:**
1. Lecturer navigates to Class details page
2. Lecturer selects "Teams" tab
3. System displays list of teams in the class
4. Lecturer selects a team without project
5. Lecturer clicks "Assign Project" button
6. System displays projects assigned to this class
7. Lecturer selects a project
8. System shows project details preview
9. Lecturer confirms selection
10. System validates:
    - Team doesn't already have a project
    - Project is available (not picked by another team in same class)
11. System assigns project to team
12. System auto-generates group milestones from project milestones
13. System notifies team members
14. System shows success message

**Postconditions:**
- Team has assigned project
- GroupMilestones created linked to ProjectMilestones
- Team members receive notification
- Team can access workspace

**Alternative Flows:**
- **10a**: Team already has project → System shows error
- **10b**: Project already picked by another team → System shows warning but allows (if Head approved)

**Business Rules:**
- BR-06: One team can only have one project at a time
- BR-07: Multiple teams in different classes can work on same project

---

### **CATEGORY 2: CLASS MANAGEMENT**

---

#### **UC007: Manage Classes**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC007 |
| **Name** | Manage Classes |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer manages assigned classes, including viewing details and resources. |

**Preconditions:**
- Lecturer is logged in
- Lecturer is assigned to at least one class

**Main Flow:**
1. Lecturer navigates to "My Classes" page
2. System displays list of assigned classes
3. For each class, system shows:
   - Class code, name, semester
   - Subject name
   - Student count, team count
   - Assigned projects count
4. Lecturer selects a class
5. System displays class details with tabs:
   - Overview (general info)
   - Students (list of students)
   - Teams (list of teams)
   - Projects (assigned projects)
   - Resources (files and documents)
6. Lecturer navigates between tabs
7. Lecturer performs actions (→ UC008, UC009, UC011)

**Postconditions:**
- Lecturer has overview of class status
- Can drill down into specific areas

---

#### **UC008: View Assigned Classes**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC008 |
| **Name** | View Assigned Classes |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer views list and details of their assigned classes, including students, projects, and teams. |

**Preconditions:**
- Lecturer is logged in

**Main Flow:**
1. Lecturer clicks "My Classes" in navigation
2. System queries database for classes where lecturer is assigned
3. System displays class cards with:
   - Class name and code
   - Subject and semester
   - Number of students
   - Number of teams
   - Number of assigned projects
   - Last activity date
4. Lecturer can:
   - Search classes by name/code
   - Filter by semester or subject
   - Sort by name, date, student count
5. Lecturer clicks on a class card
6. System shows detailed class view (→ UC007)

**Postconditions:**
- Lecturer can navigate to any assigned class

**Alternative Flows:**
- **2a**: No classes assigned → System shows empty state with message

---

#### **UC009: Manage Resources for Classes**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC009 |
| **Name** | Manage Resources for Classes |
| **Actors** | Lecturer |
| **Priority** | SHOULD |
| **Description** | Lecturer uploads and manages resources (files, docs, slides) for classes. |

**Preconditions:**
- Lecturer is logged in
- Lecturer is viewing a class (→ UC008)

**Main Flow:**
1. Lecturer navigates to "Resources" tab in class view
2. System displays existing resources:
   - File name, type, size, upload date
3. Lecturer clicks "Upload Resource" button
4. System opens file picker dialog
5. Lecturer selects file(s) from computer
6. System validates files:
   - File type allowed (PDF, DOCX, PPTX, etc.)
   - File size < 100MB
7. System uploads files to cloud storage (Cloudinary/S3)
8. System creates Resource records in database
9. System shows upload progress
10. System shows success message
11. System sends notification to students in class

**Postconditions:**
- Resources uploaded and available
- Students can download resources
- Storage quota updated

**Alternative Flows:**
- **6a**: Invalid file type → System shows error, skips file
- **6b**: File too large → System shows error, skips file
- **7a**: Upload fails → System retries 3 times, then shows error

**Additional Actions:**
- **Delete resource**: Lecturer selects resource, clicks Delete, confirms
- **Rename resource**: Lecturer edits resource name inline

---

### **CATEGORY 3: TEAM & WORKSPACE MANAGEMENT**

---

#### **UC010: Manage Teams & Workspaces**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC010 |
| **Name** | Manage Teams & Workspaces |
| **Actors** | Lecturer, Student |
| **Priority** | MUST |
| **Description** | Users manage teams, workspaces, progress, and contributions. |

**Preconditions:**
- User is logged in
- Class exists with students

**Main Flow:**
1. User navigates to Teams section
2. System displays relevant teams:
   - Lecturer: All teams in their classes
   - Student: Teams they are member of
3. User selects a team
4. System displays team workspace with:
   - Team info (name, members, project)
   - Progress overview (milestone completion %)
   - Workspace (Kanban board with cards/tasks)
   - Communication tools (chat, video)
5. User performs actions:
   - Lecturer: Create teams, manage members, view workspace (→ UC011, UC012, UC017)
   - Student: View progress, manage tasks, communicate (→ UC013, UC014, UC039)

**Postconditions:**
- User can collaborate with team members
- Changes sync in real-time

---

#### **UC011: Create/Manage Teams**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC011 |
| **Name** | Create/Manage Teams |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer creates and manages teams in assigned classes, including information and members. |

**Preconditions:**
- Lecturer is logged in
- Class has enrolled students

**Main Flow:**
1. Lecturer navigates to class Teams tab
2. Lecturer clicks "Create Team" button
3. System displays team creation form
4. Lecturer enters:
   - Team name (required)
   - Team description (optional)
5. Lecturer clicks "Create"
6. System validates team name (unique within class)
7. System creates team
8. Lecturer adds members (→ UC012)
9. System shows success message

**Postconditions:**
- New team created
- Team appears in class team list

**Alternative Flows:**
- **6a**: Duplicate team name → System shows error, suggests alternatives
- **Edit Team**: Lecturer clicks Edit icon, modifies name/description
- **Delete Team**: Lecturer clicks Delete, confirms (only if no project assigned)

---

#### **UC012: Manage Team Members**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC012 |
| **Name** | Manage Team Members |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer adds, removes, or edits members of teams. |

**Preconditions:**
- Team exists
- Lecturer has permission to manage team

**Main Flow:**
1. Lecturer opens team details
2. Lecturer clicks "Manage Members"
3. System displays:
   - Current members with roles (Leader/Member)
   - Available students (not in other teams in same class)
4. **Add Member:**
   - Lecturer selects student(s) from available list
   - Lecturer assigns role (Leader/Member)
   - Lecturer clicks "Add"
   - System validates team size (3-5 members)
   - System adds members to team
5. **Remove Member:**
   - Lecturer clicks Remove icon next to member
   - System confirms action
   - System removes member from team
6. **Change Role:**
   - Lecturer clicks role dropdown
   - Lecturer selects new role
   - System updates member role
7. System shows success message

**Postconditions:**
- Team members updated
- Affected students receive notifications
- Team workspace access updated

**Alternative Flows:**
- **4a**: Team full (5 members) → System prevents adding more
- **5a**: Try to remove last member → System shows error

**Business Rules:**
- BR-08: Team must have 3-5 members
- BR-09: Team must have exactly 1 leader
- BR-10: Student can only be in 1 team per class

---

#### **UC013: Monitor Team Progress**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC013 |
| **Name** | Monitor Team Progress |
| **Actors** | Lecturer, Student |
| **Priority** | MUST |
| **Description** | Users monitor overall team progress and completion percentage. |

**Preconditions:**
- User is logged in
- Team has assigned project with milestones

**Main Flow:**
1. User navigates to team workspace
2. System calculates progress metrics:
   - Overall completion % (completed milestones / total)
   - Milestone status (Not Started / In Progress / Completed)
   - Days remaining to next deadline
3. System displays progress dashboard:
   - Progress bar with percentage
   - Milestone timeline (Gantt-style)
   - Completion status for each milestone
4. User can drill down:
   - Click milestone to see checkpoints
   - View tasks within milestone
5. System updates in real-time as tasks completed

**Postconditions:**
- User has clear visibility of progress
- Can identify bottlenecks

**Alternative Flows:**
- **2a**: No milestones → System shows "No milestones defined"

---

#### **UC014: Monitor Member Contributions**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC014 |
| **Name** | Monitor Member Contributions |
| **Actors** | Lecturer, Student |
| **Priority** | SHOULD |
| **Description** | Users monitor individual member's contribution percentages. |

**Preconditions:**
- Team has members and tasks

**Main Flow:**
1. User navigates to team workspace
2. User clicks "Contributions" tab
3. System calculates contributions based on:
   - Tasks completed (weight: 40%)
   - Checkpoints submitted (weight: 30%)
   - Chat messages sent (weight: 10%)
   - File uploads (weight: 10%)
   - Peer ratings (weight: 10%)
4. System displays contribution chart:
   - Pie chart or bar chart
   - Percentage per member
   - Detailed breakdown
5. Lecturer can export report
6. Student can view only their own contribution

**Postconditions:**
- Contribution data visible
- Can be used for grading

**Alternative Flows:**
- **3a**: Insufficient data → System shows "Not enough data yet"

**Business Rules:**
- BR-11: Contribution % should sum to ~100% for team

---

#### **UC015: Manage Team Milestones**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC015 |
| **Name** | Manage Team Milestones |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer manages milestones based on project objectives. |

**Preconditions:**
- Team has assigned project
- Project has defined milestones

**Main Flow:**
1. Lecturer navigates to team details
2. Lecturer clicks "Milestones" tab
3. System displays group milestones (inherited from project)
4. Lecturer can:
   - **Edit milestone**: Change description, duration, deadline
   - **Add questions**: Add guiding questions for students (→ UC016)
   - **Reorder milestones**: Drag and drop to change sequence
   - **Mark milestone complete**: Override student completion
5. System validates changes
6. System updates milestones
7. System notifies team members of changes

**Postconditions:**
- Milestones updated for this team
- Does not affect other teams' milestones

---

#### **UC016: Create/Manage Milestones Questions**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC016 |
| **Name** | Create/Manage Milestones Questions |
| **Actors** | Lecturer |
| **Priority** | SHOULD |
| **Description** | Lecturer creates and manages questions for milestones to guide team development. |

**Preconditions:**
- Milestone exists for a team

**Main Flow:**
1. Lecturer opens milestone details
2. Lecturer clicks "Add Question" button
3. System displays question form
4. Lecturer enters:
   - Question text (required)
   - Expected answer guidelines (optional)
   - Weight/Points (optional)
5. Lecturer clicks "Save Question"
6. System saves question
7. Question appears in milestone question list
8. Students can see and answer questions (→ UC040)

**Postconditions:**
- Questions added to milestone
- Students notified to answer

**Alternative Flows:**
- **Edit Question**: Lecturer clicks Edit, modifies, saves
- **Delete Question**: Lecturer clicks Delete, confirms

---

#### **UC017: View Team Workspaces**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC017 |
| **Name** | View Team Workspaces |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer views the workspace of teams, including cards, tasks, and subtasks. |

**Preconditions:**
- Lecturer is logged in
- Team exists with workspace

**Main Flow:**
1. Lecturer navigates to team details
2. Lecturer clicks "Workspace" tab
3. System displays Kanban board with:
   - Cards (columns): To Do, In Progress, Done
   - Tasks within cards
   - Subtasks within tasks
4. Lecturer can:
   - View task details (title, description, assignee, due date)
   - See real-time updates as students work
   - Add comments to tasks (feedback)
5. Lecturer cannot modify tasks directly (read-only)

**Postconditions:**
- Lecturer has visibility into team workflow
- Can provide feedback via comments

---

#### **UC018: Manage Checkpoints**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC018 |
| **Name** | Manage Checkpoints |
| **Actors** | Lecturer, Student |
| **Priority** | MUST |
| **Description** | Users create, assign, submit, and mark done checkpoints within milestones. |

**Preconditions:**
- Milestone exists
- Team members assigned

**Main Flow (Student - Create Checkpoint):**
1. Student (Team Leader) opens milestone details
2. Student clicks "Add Checkpoint"
3. System displays checkpoint form
4. Student enters:
   - Checkpoint name
   - Description
   - Due date
   - Assigned members (can select multiple)
5. Student clicks "Create"
6. System creates checkpoint
7. System notifies assigned members

**Main Flow (Student - Submit Checkpoint):**
1. Assigned student opens checkpoint
2. Student clicks "Submit Work"
3. Student enters:
   - Submission text/URL
   - Uploads files (optional)
4. Student clicks "Submit"
5. System saves submission
6. System notifies team leader and lecturer

**Main Flow (Lecturer - Evaluate):**
1. Lecturer sees submitted checkpoint
2. Lecturer reviews submission
3. Lecturer provides:
   - Grade/Points
   - Feedback text
4. Lecturer clicks "Save Evaluation"
5. System saves evaluation
6. System notifies student

**Postconditions:**
- Checkpoint created, submitted, evaluated
- Progress tracked

---

### **CATEGORY 4: COMMUNICATION**

---

#### **UC019: Manage Communication**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC019 |
| **Name** | Manage Communication |
| **Actors** | Lecturer, Student |
| **Priority** | MUST |
| **Description** | Users handle real-time communication including chat, meetings, and collaborative tools. |

**Preconditions:**
- User is logged in
- User is member of team or class

**Main Flow:**
1. User navigates to team workspace or class
2. System displays communication options:
   - Chat (→ UC020)
   - Video Call (→ UC021)
   - Whiteboard (→ UC022)
   - Collaborative Editor (→ UC022)
3. User selects communication tool
4. System launches tool in workspace context
5. User collaborates with team members
6. System persists communication history

**Postconditions:**
- Communication logged for reference
- All participants stay in sync

---

#### **UC020: Chat with Teams**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC020 |
| **Name** | Chat with Teams |
| **Actors** | Lecturer, Student |
| **Priority** | MUST |
| **Description** | Users communicate via persistent real-time chat using WebSocket. |

**Preconditions:**
- User is logged in
- Chat room exists for team/class
- WebSocket connection established

**Main Flow:**
1. User opens team workspace
2. User clicks "Chat" tab or panel
3. System loads chat history (last 50 messages)
4. System displays messages in chronological order:
   - Sender name, avatar, timestamp
   - Message text
   - Attachments (if any)
5. User types message in input box
6. User optionally attaches file (< 10MB)
7. User presses Enter or clicks Send
8. System validates message (not empty, file size)
9. System broadcasts message via WebSocket
10. All online users see message instantly
11. System saves message to database
12. Offline users see message when they come online

**Postconditions:**
- Message delivered to all team members
- Chat history persisted

**Alternative Flows:**
- **9a**: WebSocket disconnected → System queues message, sends when reconnected
- **Mention User**: User types @username, system notifies mentioned user
- **Delete Message**: Sender can delete own message within 5 minutes

---

#### **UC021: Call/Schedule Meetings**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC021 |
| **Name** | Call/Schedule Meetings |
| **Actors** | Lecturer, Student |
| **Priority** | MUST |
| **Description** | Users initiate video/audio meetings or schedule future ones with notifications. |

**Preconditions:**
- User is logged in
- WebRTC supported in browser
- Camera/microphone permissions granted

**Main Flow (Instant Call):**
1. User clicks "Start Video Call" button
2. System creates meeting room
3. System broadcasts invitation via WebSocket to team members
4. Other users receive notification with "Join" button
5. Users click Join
6. System establishes WebRTC peer connections
7. Video/audio streams displayed
8. Users can:
   - Mute/unmute microphone
   - Turn on/off camera
   - Share screen
   - Leave call
9. Last user leaving ends meeting

**Main Flow (Schedule Meeting):**
1. User clicks "Schedule Meeting"
2. System displays meeting form
3. User enters:
   - Meeting title
   - Date and time
   - Duration
   - Attendees (team members)
4. User clicks "Create Meeting"
5. System saves meeting
6. System sends notifications to attendees
7. At scheduled time, system sends reminders
8. Users can join from reminder notification

**Postconditions:**
- Meeting completed or scheduled
- Meeting log saved

**Alternative Flows:**
- **6a**: WebRTC connection fails → System shows error, suggests checking firewall

---

#### **UC022: Use Real-time Tools**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC022 |
| **Name** | Use Real-time Tools |
| **Actors** | Lecturer, Student |
| **Priority** | SHOULD |
| **Description** | Users utilize interactive whiteboard, text editor, and other synchronized tools for collaboration. |

**Preconditions:**
- User is in team workspace
- WebSocket connection active

**Main Flow (Whiteboard):**
1. User clicks "Whiteboard" tool
2. System displays blank canvas
3. System loads existing drawings (if any)
4. User draws using tools:
   - Pen, eraser, shapes, text
5. System broadcasts drawing events via WebSocket
6. Other users see changes in <1 second
7. System auto-saves every 10 seconds
8. User can export as PNG

**Main Flow (Collaborative Editor):**
1. User clicks "Document Editor"
2. System displays text editor (like Google Docs)
3. System loads document content
4. User types text
5. System broadcasts changes via WebSocket
6. Other users see cursor positions and changes
7. System resolves conflicts (Operational Transform)
8. System auto-saves every 5 seconds

**Postconditions:**
- Whiteboard/document saved
- All users have synced version

**Alternative Flows:**
- **5a**: Sync lag > 2 seconds → System shows "Syncing..." indicator

---

### **CATEGORY 5: EVALUATION & FEEDBACK**

---

#### **UC023: Evaluation & Feedback**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC023 |
| **Name** | Evaluation & Feedback |
| **Actors** | Lecturer, Student |
| **Priority** | MUST |
| **Description** | Users provide and view evaluations and feedback for teams, members, milestones, and checkpoints. |

**Preconditions:**
- Evaluation period is active (usually at project end)

**Main Flow:**
1. System notifies users that evaluation is open
2. Lecturer evaluates teams/members (→ UC024)
3. Students evaluate peers (→ UC041)
4. Lecturer reviews peer evaluations (→ UC027)
5. Lecturer finalizes grades
6. Students view evaluations (→ UC042)

**Postconditions:**
- All evaluations completed and visible

---

#### **UC024: Evaluate Teams/Members**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC024 |
| **Name** | Evaluate Teams/Members |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer evaluates and gives feedback to teams and individual members at project end. |

**Preconditions:**
- Project milestone reached or completed
- Lecturer has permission to evaluate

**Main Flow:**
1. Lecturer navigates to team details
2. Lecturer clicks "Evaluation" tab
3. System displays evaluation form
4. Lecturer evaluates team overall:
   - Grade (0-10 or A-F)
   - Comments (strengths, weaknesses)
5. Lecturer evaluates each member individually:
   - Individual grade
   - Contribution assessment
   - Specific feedback
6. Lecturer can view peer evaluations for reference
7. Lecturer clicks "Submit Evaluation"
8. System saves evaluations
9. System notifies students

**Postconditions:**
- Evaluations recorded
- Students can view grades and feedback

**Alternative Flows:**
- **7a**: Save as draft → Evaluation saved but not visible to students

---

#### **UC025: Evaluate Milestones Answers**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC025 |
| **Name** | Evaluate Milestones Answers |
| **Actors** | Lecturer, Student |
| **Priority** | SHOULD |
| **Description** | Users evaluate and provide feedback on members' answers to milestone questions. |

**Preconditions:**
- Milestone has questions (→ UC016)
- Student has submitted answer (→ UC040)

**Main Flow:**
1. Lecturer opens milestone details
2. Lecturer clicks on a question
3. System displays all students' answers
4. Lecturer reviews each answer
5. Lecturer provides:
   - Grade/points
   - Feedback comments
6. Lecturer clicks "Save Evaluation"
7. System saves evaluation
8. System notifies student

**Postconditions:**
- Answer evaluated
- Student can see grade and feedback

---

#### **UC026: Evaluate Checkpoints Submissions**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC026 |
| **Name** | Evaluate Checkpoints Submissions |
| **Actors** | Lecturer |
| **Priority** | MUST |
| **Description** | Lecturer evaluates and provides feedback on team checkpoint submissions. |

**Preconditions:**
- Checkpoint submitted by student (→ UC018)

**Main Flow:**
1. Lecturer navigates to team milestones
2. Lecturer opens checkpoint with submission
3. System displays submission:
   - Submission text
   - Attached files
   - Submission date
4. Lecturer reviews submission
5. Lecturer downloads files if needed
6. Lecturer enters:
   - Grade/points
   - Feedback text
7. Lecturer clicks "Submit Evaluation"
8. System saves evaluation
9. System notifies student who submitted

**Postconditions:**
- Checkpoint evaluated
- Student receives feedback

---

#### **UC027: View Peer Evaluations**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC027 |
| **Name** | View Peer Evaluations |
| **Actors** | Lecturer |
| **Priority** | SHOULD |
| **Description** | Lecturer views peer evaluations to inform future judgments. |

**Preconditions:**
- Students have completed peer evaluations (→ UC041)

**Main Flow:**
1. Lecturer navigates to team evaluation page
2. Lecturer clicks "View Peer Evaluations"
3. System displays peer evaluation summary:
   - Average ratings per member
   - Individual evaluations (who rated whom)
   - Comments from peers
4. Lecturer can filter/sort evaluations
5. Lecturer uses data to inform final grading

**Postconditions:**
- Lecturer has additional context for grading

---

### **CATEGORY 6: RESOURCE MANAGEMENT**

---

#### **UC028: Manage Resources**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC028 |
| **Name** | Manage Resources |
| **Actors** | Lecturer, Student |
| **Priority** | SHOULD |
| **Description** | Users manage resources (files, docs, slides) for classes, teams, milestones, and checkpoints. |

**Preconditions:**
- User has upload permissions

**Main Flow:**
1. User navigates to Resources section (class/team/milestone)
2. User clicks "Upload" button
3. User selects files (→ UC029)
4. System uploads and displays files
5. User can:
   - Download file
   - Rename file
   - Delete file (if owner)
   - Preview file (PDF, images)

**Postconditions:**
- Resources available to team/class

---

#### **UC029: Manage Files/Docs for Classes/Teams**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC029 |
| **Name** | Manage Files/Docs for Classes/Teams |
| **Actors** | Lecturer, Student |
| **Priority** | SHOULD |
| **Description** | Users upload, edit, and manage files and documents for classes or teams. |

**Preconditions:**
- User is member of class/team

**Main Flow:**
1. User opens Resources panel
2. User clicks "Upload Files"
3. System opens file picker
4. User selects one or more files
5. System validates:
   - File type allowed
   - Total size < quota limit
6. System uploads to cloud storage (Cloudinary/S3)
7. System creates Resource records
8. System shows upload progress
9. System displays uploaded files
10. System sends notification to team/class

**Postconditions:**
- Files stored and accessible
- Storage quota updated

**Alternative Flows:**
- **5a**: Invalid file type → System shows error, skips file
- **5b**: Quota exceeded → System shows error, stops upload

**Business Rules:**
- BR-12: Max 100MB per file
- BR-13: Allowed types: PDF, DOCX, XLSX, PPTX, PNG, JPG, MP4

---

### **CATEGORY 7: AI & AUTOMATION**

---

#### **UC030: Use AI Assistance**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC030 |
| **Name** | Use AI Assistance |
| **Actors** | Lecturer, Student |
| **Priority** | COULD |
| **Description** | Users interact with AI chatbot for brainstorming, guidance, suggestions, and analysis of progress/contributions. |

**Preconditions:**
- User is logged in
- AWS Bedrock API available

**Main Flow:**
1. User clicks "AI Assistant" button
2. System opens chat interface with AI bot
3. User types question or request:
   - "Help me brainstorm ideas for [project topic]"
   - "Suggest milestones for [project description]"
   - "Analyze our team progress"
4. System sends request to AWS Bedrock (Claude)
5. AI processes request and generates response
6. System displays AI response
7. User can:
   - Continue conversation
   - Copy response
   - Apply suggestions (e.g., create milestones)

**Postconditions:**
- AI provides guidance
- User can apply suggestions

**Alternative Flows:**
- **5a**: AI service unavailable → System shows "AI temporarily unavailable"
- **5b**: Request takes > 10s → System shows "Thinking..." with loading indicator

**Business Rules:**
- BR-14: AI requests limited to 50/day per user
- BR-15: AI responses stored for future training

---

#### **UC031: Notification System**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC031 |
| **Name** | Notification System |
| **Actors** | System (automated) |
| **Priority** | MUST |
| **Description** | System sends real-time and email notifications for events like milestone completions, submissions, uploads, messages, and feedback. |

**Preconditions:**
- Event occurs that requires notification
- User has notification preferences set

**Main Flow:**
1. Event occurs (e.g., checkpoint submitted)
2. System identifies affected users
3. System creates notification record
4. System sends real-time notification:
   - Broadcasts via WebSocket to online users
   - Shows toast/popup in UI
5. System sends email notification:
   - Queues email job
   - SMTP service sends email
6. User sees notification
7. User clicks notification
8. System navigates to relevant page

**Notification Types:**
- **Project**: Approval, assignment, picked
- **Team**: Member added/removed, role changed
- **Milestone**: Completed, deadline approaching
- **Checkpoint**: Submitted, evaluated
- **Chat**: New message, mentioned
- **Meeting**: Scheduled, reminder, started
- **Evaluation**: Received feedback

**Postconditions:**
- Users informed of important events
- Notification history viewable

**Alternative Flows:**
- **5a**: SMTP service down → Skip email, keep in-app notification
- **User offline**: Notification queued, delivered when user logs in

---

### **CATEGORY 8: STUDENT-SPECIFIC USE CASES**

---

#### **UC032: View Classes & Teams**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC032 |
| **Name** | View Classes & Teams |
| **Actors** | Student |
| **Priority** | MUST |
| **Description** | Student views details of assigned classes and teams. |

**Main Flow:**
1. Student logs in
2. Student clicks "My Classes" in navigation
3. System displays enrolled classes
4. Student selects a class
5. System shows class overview (→ UC033)
6. Student clicks "My Team" tab
7. System displays team details (→ UC033)

---

#### **UC033: View Assigned Classes/Teams**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC033 |
| **Name** | View Assigned Classes/Teams |
| **Actors** | Student |
| **Priority** | MUST |
| **Description** | Student views list and details of their assigned classes and teams. |

**Main Flow:**
1. Student navigates to "My Classes"
2. System displays classes student is enrolled in
3. For each class, system shows:
   - Class name, code, semester
   - Subject name
   - Lecturer name
   - Team assignment (if any)
4. Student clicks on a class
5. System displays:
   - Class details
   - Team members
   - Assigned project
   - Resources

**Postconditions:**
- Student knows their classes and team assignments

---

#### **UC034: View Subjects/Syllabus**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC034 |
| **Name** | View Subjects/Syllabus |
| **Actors** | Student |
| **Priority** | SHOULD |
| **Description** | Student views details of subjects and syllabi. |

**Main Flow:**
1. Student navigates to class details
2. Student clicks "Subject" or "Syllabus" link
3. System displays subject information:
   - Subject code and name
   - Description
   - Learning objectives
   - Curriculum details (if available)
4. Student reads information

**Postconditions:**
- Student understands subject expectations

---

#### **UC035: View Milestones/Checkpoints**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC035 |
| **Name** | View Milestones/Checkpoints |
| **Actors** | Student |
| **Priority** | MUST |
| **Description** | Student views details of team milestones and checkpoints. |

**Main Flow:**
1. Student opens team workspace
2. Student clicks "Milestones" tab
3. System displays milestones with:
   - Title, description, deadline
   - Completion status
   - Associated questions
   - Checkpoints within milestone
4. Student clicks on a milestone
5. System shows detailed view:
   - Milestone info
   - Questions to answer
   - Checkpoints list
   - Submissions

**Postconditions:**
- Student knows what work is required

---

#### **UC036: Mark Done Milestones/Checkpoints**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC036 |
| **Name** | Mark Done Milestones/Checkpoints |
| **Actors** | Student (Team Leader) |
| **Priority** | MUST |
| **Description** | Student (team leader) marks milestones or checkpoints as done. |

**Preconditions:**
- Student is team leader
- All checkpoint submissions completed

**Main Flow:**
1. Team leader opens milestone/checkpoint
2. Team leader clicks "Mark as Complete" button
3. System validates all checkpoints submitted
4. System shows confirmation dialog
5. Team leader confirms
6. System updates status to "Completed"
7. System notifies lecturer and team members
8. System updates progress metrics

**Postconditions:**
- Milestone/checkpoint marked complete
- Progress updated

**Alternative Flows:**
- **3a**: Not all checkpoints complete → System shows error, lists incomplete items

---

#### **UC037: Create/Manage Checkpoints**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC037 |
| **Name** | Create/Manage Checkpoints |
| **Actors** | Student (Team Leader) |
| **Priority** | MUST |
| **Description** | Student (team leader) creates and manages checkpoints, assigns members. |

**Preconditions:**
- Student is team leader
- Milestone exists

**Main Flow:**
1. Team leader opens milestone
2. Team leader clicks "Add Checkpoint"
3. System displays form
4. Team leader enters:
   - Checkpoint name
   - Description
   - Due date
   - Assigned members (select from team)
5. Team leader clicks "Create"
6. System creates checkpoint
7. System notifies assigned members

**Postconditions:**
- Checkpoint created and assigned
- Team members notified

---

#### **UC038: Submit Checkpoints**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC038 |
| **Name** | Submit Checkpoints |
| **Actors** | Student |
| **Priority** | MUST |
| **Description** | Student submits entries for team checkpoints. |

**Preconditions:**
- Student is assigned to checkpoint
- Checkpoint not yet submitted

**Main Flow:**
1. Student opens checkpoint
2. Student clicks "Submit Work"
3. System displays submission form
4. Student enters:
   - Submission text (description of work done)
   - Upload files (optional)
5. Student clicks "Submit"
6. System validates submission
7. System uploads files
8. System saves submission
9. System notifies team leader and lecturer
10. System marks checkpoint as "Submitted"

**Postconditions:**
- Submission recorded
- Waiting for evaluation

**Alternative Flows:**
- **6a**: Missing required fields → System shows error
- **7a**: File upload fails → System retries, then shows error

---

#### **UC039: Create/Manage Cards/Tasks/Subtasks**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC039 |
| **Name** | Create/Manage Cards/Tasks/Subtasks |
| **Actors** | Student |
| **Priority** | MUST |
| **Description** | Student creates and manages cards, tasks, and subtasks in the team workspace using 3-level hierarchy. |

**Preconditions:**
- Student is team member
- Team has workspace

**Main Flow (Create Card):**
1. Student opens workspace Kanban board
2. Student clicks "Add Card" in a column (To Do/In Progress/Done)
3. System displays card form
4. Student enters card title and optional description
5. Student clicks "Create"
6. System creates WorkspaceCard
7. Card appears in board

**Main Flow (Create Task):**
1. Student opens a card
2. Student clicks "Add Task"
3. Student enters:
   - Task title
   - Description (optional)
   - Assignee (team member)
   - Due date (optional)
4. Student clicks "Create Task"
5. System creates Task linked to card
6. Task appears under card

**Main Flow (Create Subtask):**
1. Student opens a task
2. Student clicks "Add Subtask"
3. Student enters subtask title
4. Student clicks "Create"
5. System creates subtask (Task with parent_task_id)
6. Subtask appears under task

**Main Flow (Move Task):**
1. Student drags task card
2. Student drops in different column or card
3. System updates task status/position
4. System broadcasts change via WebSocket
5. All team members see update

**Postconditions:**
- 3-level hierarchy maintained (Card → Task → Subtask)
- Changes synced to all team members

**Business Rules:**
- BR-16: Card can have multiple tasks
- BR-17: Task can have multiple subtasks
- BR-18: Subtask cannot have further children (max 3 levels)

---

#### **UC040: Answer Milestones Questions**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC040 |
| **Name** | Answer Milestones Questions |
| **Actors** | Student |
| **Priority** | SHOULD |
| **Description** | Student answers questions associated with milestones. |

**Preconditions:**
- Milestone has questions (created by lecturer → UC016)
- Student is team member

**Main Flow:**
1. Student opens milestone details
2. Student clicks "Questions" tab
3. System displays questions
4. Student clicks on a question
5. Student enters answer text
6. Student optionally uploads supporting files
7. Student clicks "Submit Answer"
8. System saves answer
9. System notifies lecturer

**Postconditions:**
- Answer submitted
- Lecturer can evaluate (→ UC025)

---

#### **UC041: Evaluate Other Members**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC041 |
| **Name** | Evaluate Other Members |
| **Actors** | Student |
| **Priority** | SHOULD |
| **Description** | Student provides feedback for other team members at project end (peer review). |

**Preconditions:**
- Project milestone reached (e.g., end of project)
- Peer evaluation period active

**Main Flow:**
1. System notifies student to complete peer evaluation
2. Student navigates to Evaluation page
3. System displays list of team members (excluding self)
4. For each member, student provides:
   - Rating (1-5 stars or 1-10)
   - Comments (strengths, areas for improvement)
5. Student clicks "Submit Evaluation"
6. System validates all members evaluated
7. System saves evaluations (anonymous to peers)
8. System notifies lecturer

**Postconditions:**
- Peer evaluations submitted
- Lecturer can view (→ UC027)

**Business Rules:**
- BR-19: Peer evaluations anonymous to other students
- BR-20: Lecturer can see who submitted what

---

#### **UC042: View Evaluations/Feedback**

| **Attribute** | **Details** |
|---------------|-------------|
| **ID** | UC042 |
| **Name** | View Evaluations/Feedback |
| **Actors** | Student |
| **Priority** | MUST |
| **Description** | Student views evaluations and feedback from lecturer or peers. |

**Preconditions:**
- Lecturer has submitted evaluations (→ UC024)

**Main Flow:**
1. Student logs in
2. System shows notification "New evaluation available"
3. Student navigates to "My Evaluations"
4. System displays:
   - Overall grade
   - Individual grade
   - Lecturer feedback
   - Peer feedback summary (aggregated, anonymous)
5. Student reads feedback
6. Student can download evaluation report

**Postconditions:**
- Student aware of performance
- Can improve based on feedback

---

## 3.2.3. Use Case Traceability

### Use Cases to Functional Requirements Mapping

| Use Case | Related Features |
|----------|------------------|
| UC001-UC006 | FE-29 to FE-34 (Project management) |
| UC007-UC009 | FE-35 to FE-38 (Class management) |
| UC010-UC018 | FE-39 to FE-47 (Team & workspace) |
| UC019-UC022 | FE-64 to FE-69 (Communication) |
| UC023-UC027 | FE-60 to FE-62 (Evaluation) |
| UC028-UC029 | FE-59 (Resources) |
| UC030 | FE-63 (AI chatbot) |
| UC031 | FE-70 to FE-72 (Notifications) |
| UC032-UC042 | FE-48 to FE-63 (Student features) |

Detailed mapping available in [3.5 Requirement Appendix - Traceability Matrix](3.5-RequirementAppendix.md).

---

**[← Back to Master SRS](../03-SRS.md)** | **[Next: 3.3 Functional Requirements →](3.3-FunctionalRequirements.md)**
